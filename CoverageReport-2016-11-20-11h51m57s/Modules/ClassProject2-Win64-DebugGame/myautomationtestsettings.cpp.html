<html>
	<head>
	<link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	<script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
	<title>
		myautomationtestsettings.cpp
	</title>
	<body onload="prettyPrint()">
        <h4></h4>
		<pre class="prettyprint lang-cpp linenums">
// Fill out your copyright notice in the Description page of Project Settings.

#include "ClassProject2.h"
#include "MyAutomationTestSettings.h"
#include "AutomationTest.h"
#include "ClassProject2GameMode.h"
#include "GameFramework/InputSettings.h"
#include "public/MyCharacter.h"
#include "public/MyElementalAffinity.h"



<span style = "background-color:#dfd">IMPLEMENT_SIMPLE_AUTOMATION_TEST(FMyCharacterTest, "MyCharacter.SetHP", EAutomationTestFlags::EditorContext |EAutomationTestFlags::EngineFilter)</span>
bool FMyCharacterTest::RunTest(const FString&amp; Parameters)
<span style = "background-color:#fdd">{</span>
	//AddError(FString::Printf(TEXT("The testing goat says NO! Hourray! Goto coding! ")));
	// constructors must create equal objects
	{
<span style = "background-color:#fdd">		AMyCharacter* t = NewObject&lt;AMyCharacter&gt;();
		t-&gt;SetHP(50);
		TestNotEqual(TEXT("Default health"), t-&gt;GetHP(), 100.f);
		t-&gt;Destroy();</span>
	}

<span style = "background-color:#fdd">	return true;
}</span>

<span style = "background-color:#dfd">IMPLEMENT_SIMPLE_AUTOMATION_TEST(FMyCharacterAffin1Test, "MyCharacter.Affinity", EAutomationTestFlags::EditorContext | EAutomationTestFlags::EngineFilter)</span>
bool FMyCharacterAffin1Test::RunTest(const FString&amp; Parameters)
<span style = "background-color:#fdd">{</span>
	//AddError(FString::Printf(TEXT("The testing goat says NO! Hourray! Goto coding! ")));
	// constructors must create equal objects
	{
<span style = "background-color:#fdd">		AMyCharacter* t = NewObject&lt;AMyCharacter&gt;();
		t-&gt;MyAffinity-&gt;UpdateElements(4, 1);
		TestEqual(TEXT("Prefix changed"), t-&gt;MyAffinity-&gt;GetAbilityElementalPrefix(), 1);
		TestNotEqual(TEXT("MaxHealth Buffed"), t-&gt;GetMaxHP(), 100.f);
		t-&gt;MyAffinity-&gt;UpdateElements(4, 2);
		TestEqual(TEXT("Prefix changed again"), t-&gt;MyAffinity-&gt;GetAbilityElementalPrefix(), 21);
		t-&gt;MyAffinity-&gt;UpdateElements(9, 2);
		TestEqual(TEXT("Prefix changed to singular"), t-&gt;MyAffinity-&gt;GetAbilityElementalPrefix(), 2);
		TestNotEqual(TEXT("CritChanceMultiplier changed"), t-&gt;GetCritChanceMultiplier(), 1.0f);
		t-&gt;Destroy();</span>
	}

<span style = "background-color:#fdd">	return true;
}</span>
<span style = "background-color:#dfd">IMPLEMENT_SIMPLE_AUTOMATION_TEST(FMyCharacterAffin2Test, "MyCharacter.Affinity_2", EAutomationTestFlags::EditorContext | EAutomationTestFlags::EngineFilter)</span>
bool FMyCharacterAffin2Test::RunTest(const FString&amp; Parameters)
<span style = "background-color:#fdd">{</span>
	//AddError(FString::Printf(TEXT("The testing goat says NO! Hourray! Goto coding! ")));
	// constructors must create equal objects
	{
<span style = "background-color:#fdd">		AMyCharacter* t = NewObject&lt;AMyCharacter&gt;();
		t-&gt;MyAffinity-&gt;UpdateElements(2, 0);
		TestEqual(TEXT("Prefix changed"), t-&gt;MyAffinity-&gt;GetAbilityElementalPrefix(), 0);
		t-&gt;MyAffinity-&gt;UpdateElements(1, 3);
		TestEqual(TEXT("Prefix Not changed, primary element not high enough"), t-&gt;MyAffinity-&gt;GetAbilityElementalPrefix(), 0);
		t-&gt;Destroy();</span>
	}

<span style = "background-color:#fdd">	return true;
}</span>


<span style = "background-color:#dfd">IMPLEMENT_SIMPLE_AUTOMATION_TEST(FAffinityTest, "MyElementalAffinity.AffinityCalculation", EAutomationTestFlags::EditorContext | EAutomationTestFlags::EngineFilter)</span>
bool FAffinityTest::RunTest(const FString&amp; Parameters)
<span style = "background-color:#fdd">{</span>
	//AddError(FString::Printf(TEXT("The testing goat says NO! Hourray! Goto coding! ")));
	// constructors must create equal objects
	{
		//testing penalty
<span style = "background-color:#fdd">		auto s = NewObject&lt;AMyCharacter&gt;();
		s-&gt;MyAffinity-&gt;UpdateElements(4, 1);
		s-&gt;MyAffinity-&gt;UpdateElements(5, 2);
		TestTrue(FString::SanitizeFloat(s-&gt;MyAffinity-&gt;GetProcessedElementAffinities()[2]),s-&gt;MyAffinity-&gt;GetProcessedElementAffinities()[2] &lt; 5);
		s-&gt;Destroy();</span>
	}

<span style = "background-color:#fdd">	return true;
}</span>


// void FCustomTest::GetTests(TArray&lt;FString&gt;&amp; OutBeautifiedNames, TArray &lt;FString&gt;&amp; OutTestCommands) const
// {

// }

// bool FCustomTest::RunTest(const FString&amp; Parameters)
// {
// 	return true;
// }</pre>
	</body>
</html>